<?xml version="1.0"?>

<project default="interactive" basedir="." name="project build file">

  <description>Jakarta POI buildfile</description>
 
    <taskdef resource="centipede"/>
    <centipede/>
    
    <importcent name="java" />
    <importcent name="junit" />
    
   <!-- These work locally, but still need to be set in Gump
      
    <importcent name="doxygen-gpl" />
    <importcent name="pmd" />
    <importcent name="statcvs-gpl" />
    <importcent name="nounit-gpl" />
    <importcent name="dir2xml" />
    <importcent name="essmodel-gpl" />
    <importcent name="checkstyle" />
    <importcent name="forrest" />
    <importcent name="changelog" />
    
    -->
            
  <!-- =================================================================== -->
  <!-- Basic build targets for the project                                 -->
  <!-- =================================================================== -->

  <!-- =================================================================== -->
  <!-- Interactive build                                                   -->
  <!-- =================================================================== -->
  <target name="interactive" description="Interactive Build">          
    <echo> 
    --------------------------------------------------------------

          ${jxpath:/references/module.xml/root/module/project[1]/@name}  [${YEAR}]

    --------------------------------------------------------------
     Using ${ant.version}
     Build file ${ant.file}
    --------------------------------------------------------------   
     These are the most common build targets.   
     You can also invoke them directly; see build.xml for more info. 
     Builds will be in /build directory, distributions in /dist.        
        
     all -------------- creates the jars and the site      
     compile ---------- compiles the source code      
     test ------------- performs the jUnit tests       
     jar -------------- create the jar files
     docs ------------- generates the html docs - clean not needed        
     javadocs --------- generates the API documentation   
     site ------------- generates the html site (docs+reports)    
     clean ------------ cleans the build directory    
     dist ------------- creates src and bin distributions    
     scratchpad ------- build-run scratchpad code       
     contrib ---------- build-run contributed code    
     generate-records - generate excel records    
     generate-types --- generate word types    
     poibrowser  - POIBrowser 0.10 GUI POI Viewer
     sheetviewer - SheetViewer 0.20 GUI Applet/Application Viewer for XLS files     

    </echo>
    
    <input message="Please select a target "
           addproperty="input.selection"/>
    
    <condition property="do.abort">
      <equals arg1="" arg2="input.selection" />
    </condition>
    
    <fail if="do.abort">Build aborted by user.</fail>

    <antrun target="splash"/>
    <antrun target="${input.selection}"/>
    
  </target>



  <!-- ================================== -->
  <!--       Generate records                -->
  <!-- ================================== -->
  
  <target  name="generate-records"
           description="generate-records">

    <ant antfile="${project.src.dir}/targets/record-generation/xbuild.xml"
            target="generate-records"/>
    
  </target>     

  <!-- ================================== -->
  <!--       Generate types                -->
  <!-- ================================== -->
  
  <target  name="generate-types"
           description="generate-types">

    <ant antfile="${project.src.dir}/targets/record-generation/xbuild.xml"
            target="generate-types"/>
    
  </target>     

                
  <!-- ================================== -->
  <!--        Target used by Gump         -->
  <!-- ================================== -->
  
  <target  name="gump"   
           depends="compile, package, test"
           description="Target used by Gump"/>

  <!-- ================================== -->
  <!--        Generate all                -->
  <!-- ================================== -->
  
  <target  name="all"   
           depends="package"
           description="Generate all"/>
                      
   
      
</project>
